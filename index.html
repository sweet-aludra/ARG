<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#008040">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <title>Delirium</title>
</head>

<body>
    <main>
        <header>
            <div>
                <img src="imgs/delirium.png" alt="logo delirium">
            </div>
            <!-- <button>Mudar tema</button> botao alternar tema-->
        </header>
        <section id="secao_inicial">
            <article>
                <h2>Bem-vindo!</h2><br>
                <p>
                    ARGs (Alternate Reality Game) estimulam a curiosidade, a investiga√ß√£o e a colabora√ß√£o. Jogar um ARG
                    √© como
                    ser parte de um filme ou livro, mas em que o jogador ajuda a decidir o rumo da narrativa. √â uma
                    experi√™ncia
                    que mistura jogo, arte, narrativa e comunidade de um jeito √∫nico.
                </p>
                <p>
                    Por meio de atividades interativas, enigmas instigantes e narrativas envolventes, voc√™ ser√°
                    convidado a
                    desvendar segredos, resolver mist√©rios e descobrir como a fic√ß√£o pode se misturar com a realidade.
                </p><br><hr><br>

                <div class="flor">
                    <div>
                        <h3>Dicas:</h3><br>
                        <p>&#9830; Cada desafio tem uma palavra correta para avan√ßar.</p>
                        <p>&#9830; Nem todos os desafios est√£o escondidos em somente uma pagina...</p>
                    </div>
                    
                    <img src="imgs/lirio_do_vale.png" alt="lirio do vale">
                </div>
                <br><hr><br>
            </article>
            <button onclick="mostrarSecao('secao1')">Come√ßar</button>
        </section>

        <section id="secao1" style="display:none;">
            <article id="texto1">
                <h2>1Etapa-Defina a narrativa</h2><br>
                <p>Toda experi√™ncia come√ßa com uma boa hist√≥ria. Pode ser um mist√©rio a ser resolvido, uma conspira√ß√£o oculta ou at√© uma jornada po√©tica. 
                    O importante √© que exista um fio condutor que conecte todos os desafios.</p><br><hr><br>
                
                <h2>Quando vier a primavera</h2><br>
                <div class="flor1">
                    <img src="imgs/daisy.png" alt="daisy">
                    <div><p>muitas vezes nas historias, ah enigmas escondidos dentros dos textos e por isso e sempre bom se
                    manter atento aos detalhes.
                    alguns aparecem com letras soltas em maiusculo, como letras destacadas que precisam ser unificadas
                    para
                    formar algo novo e assim levando a historia para outros caminhos.</p></div>
                </div>
                <br><hr><br>

                <p>Quando vier a primavera,<br>
                    Se eu j√° estiver morto,<br>
                    As flor<strong>e</strong>s florir√£o da mesma maneira<br>
                    E as √°rvores n√£o ser√£o menos verdes que na primavera passada.<br>
                    A rea<strong>l</strong>idade n√£o precis<strong>a</strong> de mim.<br>
                    <br>
                    Sinto uma alegria enorme<br>
                    Ao pensar que a minha morte n√£o tem import√¢ncia nenhuma.<br>
                    <br>
                    [...]
                    <br><br>
                    Po<strong>d</strong>em rezar latim sobre <strong>o</strong> meu caix√£o, se quiserem.<br>
                    Se quiserem, podem da<strong>n</strong>√ßar e cantar √† roda dele.<br>
                    N√£o tenho prefer√™ncias para quando j√° n√£o puder ter prefer√™ncias.<br>
                    O que for, qu<strong>a</strong>ndo for, √© que ser√° o que √©.<br>
                    <br><br>
                    CAEIRO, Al<strong>b</strong>erto, Poesia (Poemas Inconjuntos), ed. Fernando Cabral Martins, Richard Zenith. Lisboa:
                    Ass√≠rio & Alvim, 2001, p. 109
                </p><br><hr><br>
            </article>
            <input type="text" id="entrada1" placeholder="..">
            <button onclick="verificar(1, 'beladona')">Enviar</button>
        </section>

        <section id="secao2" style="display:none;">
            <article>
                <h2>2Etapa-Crie os enigmas</h2><br>
                <div class="flor">
                    <div><p>Os enigmas s√£o o cora√ß√£o do ARG. Eles podem aparecer em textos,
                     imagens, sites escondidos, √°udios ou at√© mensagens codificadas.
                    Use recursos como: (C√≥digos e cifras, Pistas visuais e Refer√™ncias externas (dicion√°rios, m√∫sicas, flores, obras liter√°rias)).</p></div>
                    <img src="imgs/beladona.png" alt="beladona">
                </div>
                <br><hr><br>

                <h2>Sutilezas</h2><br>
                <p>
                    Aprender a enxergar o que est√° al√©m do √≥bvio √© o que transforma curiosidade em descoberta.
                    <br>Quem passa sem reparar, pode nem notar sua presen√ßa; mas quem observa com cuidado, consegue perceber os detalhes sutis que revelam sua beleza. Talvez, assim como na hist√≥ria, as pistas mais importantes estejam justamente onde quase ningu√©m olha.
                </p></p><br><hr><br>

                <p>
                    √Äs vezes a hist√≥ria parece se perder no ar, como folhas levadas pelo vento, mas basta olhar com aten√ß√£o ao redor para encontrar o caminho escondido at√© o jardim. N√£o √© sobre ver tudo de primeira; √© sobre notar os detalhes que passam despercebidos, aquelas pequenas pistas que se escondem nas sombras, nos cantos e at√© no sil√™ncio. Quem presta aten√ß√£o de verdade acaba descobrindo segredos que parecem invis√≠veis.
                </p><p style="color: #f1ffe7; font-size: 20px;">cer√∫lea, lustrosa, acetinada, imaculada, solene, recatada, <strong>dalia</strong>, c√¥ncava, orvalhada, perene, silenciosa, nacarada, et√©rea.</p><hr><br>
            </article>
            <input type="text" id="entrada2" placeholder="..">
            <button onclick="verificar(2, 'dalia')">Enviar</button>
        </section>

        <section id="secao3" style="display:none;">
            <article>
                <h2>3Etapa-Use m√∫ltiplas plataformas</h2><br>
                <p>Um ARG vive em diferentes espa√ßos: p√°ginas web, redes sociais, documentos e at√© intera√ß√µes presenciais.</p><br><hr><br>

                <h2>Deslocamento 3</h2><br>
                <p>O texto cifrado continua sendo o mesmo texto, s√≥ que atravessado por um v√©u. A verdade n√£o desaparece, apenas muda de lugar, esperando ser encontrada. Assim tamb√©m s√£o as ideias, os s√≠mbolos, as mem√≥rias: elas existem, mas muitas vezes n√£o no ponto em que esperamos v√™-las.</p><br><hr><br>
                
                <p>No sil√™ncio da floresta sombria,<br>
                um perfume leve anuncia a aurora.<br>
                Pequenos sinos escondidos na sombra<br>
                sussurram segredos a quem ousa escutar.<br><br>

                Branco como a mem√≥ria do vento,<br>
                delicado como um segredo guardado,<br>
                cresce onde a luz quase n√£o chega,<br>
                mas nunca deixa de florescer.<br><br>

                N√£o grita sua beleza, apenas espera.<br>
                Quem olhar com aten√ß√£o o encontrar√°,<br>
                curvado em humildade,<br>
                mas eterno em pureza.</p><br><hr><br>
                
                <div class="flor1">
                    <div>
                        <p>Gh vhx fdxoh ilqr h dutxhdgr, shqghp shtxhqdv ioruhv hp irupd gh vlqrv eudqfrv, gholfdgrv h shuixpdgrv,
                     vhpsuh glvsrvwrv hp ilod, frpr frqwdv gh xp urv√°ulr qdwxudo.</p>
                    </div>
                    <img src="#" alt="">
                </div>
                <br><hr><br>
            </article><br>
            <input type="text" id="entrada3" placeholder="..">
            <button onclick="verificar(3, 'lirio do vale')">Enviar</button>
        </section>

        <section id="secao4" style="display:none;">
            <article>
                <h2>4Etapa-Promova a colabora√ß√£o</h2><br>
                <p>Os ARGs s√£o feitos para que jogadores troquem ideias, compartilhem descobertas e avancem juntos. Pense em enigmas que incentivem a coopera√ß√£o.</p><br><hr><br>

                <h2>Flora</h2><br>
                <p>As palavras sempre buscaram nomear o mundo, como se cada som pudesse aprisionar um peda√ßo do mist√©rio. Algumas descrevem sentimentos raros: logofilia, o amor por palavras, como se nelas repousasse a alma de quem fala; sem√¢ntica, a busca pelos significados que dan√ßam por tr√°s de cada letra; etimologia, o fio que nos conduz ao nascimento de um termo, como uma raiz invis√≠vel. Outras palavras pertencem ao reino das flores: antofilia,
                 o fasc√≠nio por suas formas delicadas, por p√©talas. Entre descri√ß√µes e nomes, descobrimos que a linguagem n√£o √© apenas uma ferramenta, mas um espelho: cada defini√ß√£o revela tanto o objeto quanto o olhar de quem o descreve.
                 <p style="color: #f1ffe7; font-size: 20px;">dandelion, violet, daisy, marigold.</p></p><hr><br>
                
                <p id="definicao">Carregando enigma...</p><br><hr><br>
            </article><br>
            <input type="text" id="entrada4" placeholder="..">
            <button onclick="verificar(4, palavraCorreta)">Enviar</button>
        </section>

        <section id="secao5" style="display:none;">
            <article>
                <h2>5Etapa-Construa a imers√£o</h2><br>
                <p>Textos escritos de forma veross√≠mil, sites falsos que parecem reais, mensagens enigm√°ticas enviadas no momento certo, tudo contribui para a ilus√£o.</p><br><hr><br>

                <h2>√öltimo Desafio</h2><br>
                <p>Digite a √∫ltima palavra para concluir a jornada. final</p>
            </article><br>
            <input type="text" id="entrada5" placeholder="..">
            <button onclick="verificar(5, 'camelia')">Enviar</button>
        </section>

        <section id="secao_final" style="display:none;">
            <article>
                <h2>Fim da Jornada</h2><br>
                <p>Um ARG √© mais do que um jogo: √© uma narrativa viva que se espalha por diferentes meios, misturando realidade e fic√ß√£o. Para criar o seu, pense em tr√™s pilares principais: hist√≥ria, enigmas e imers√£o.</p>
            </article><br>
            <button onclick="mostrarSecao('secao_inicial')">Voltar ao In√≠cio</button>
        </section>

        <script>
           let palavraCorreta = "";

            // Mostra apenas a se√ß√£o selecionada
            function mostrarSecao(id) {
                document.querySelectorAll("section").forEach(sec => sec.style.display = "none");
                document.getElementById(id).style.display = "block";

                // Se for o desafio final com API, carrega enigma
                if (id === "secao4") {
                    carregarEnigma();
                }
            }

            // Verifica se a palavra digitada est√° correta
            function verificar(n, respostaEsperada) {
                const entrada = document.getElementById("entrada" + n).value.trim().toLowerCase();

                if (entrada === respostaEsperada.toLowerCase()) {
                    if (n === 5) { // √öltimo desafio
                        mostrarSecao("secao_final");
                    } else {
                        mostrarSecao("secao" + (n + 1));
                    }
                } else {
                    alert("Palavra incorreta, tente novamente!");
                }
            }

            // Fun√ß√£o do enigma API (secao4)
            async function carregarEnigma() {
                const flores = ["dandelion", "violet", "daisy", "marigold"];
                const escolhida = flores[Math.floor(Math.random() * flores.length)];
                palavraCorreta = escolhida;

                try {
                    const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${escolhida}`);
                    const data = await res.json();
                    const definicao = data[0].meanings[0].definitions[0].definition;
                    document.getElementById("definicao").innerText = definicao;
                } catch (err) {
                    document.getElementById("definicao").innerText = "Erro ao carregar o enigma.";
                    console.error(err);
                }
            }

            // pwa
            if ('serviceWorker' in navigator) { 
                navigator.serviceWorker.register('service-worker.js')
                .then(() => console.log('‚úÖ Service Worker registrado!'))
                .catch(err => console.error('‚ùå Erro no registro do Service Worker:', err));
            }//verifica no devtools se o service woker(offline) esta funcionando

            // Instala√ß√£o PWA
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;

                // cria bot√£o dinamicamente
                const btnInstall = document.createElement('button');
                btnInstall.innerText = 'ü™ªInstalar App';
                btnInstall.style.position = 'fixed';
                btnInstall.style.bottom = '20px';
                btnInstall.style.right = '20px';
                btnInstall.style.height = '200px';
                btnInstall.style.padding = '25px 55px';
                btnInstall.style.background = '#fce4ff';
                btnInstall.style.color = '#353535';
                btnInstall.style.border = 'none';
                btnInstall.style.borderRadius = '5px';
                btnInstall.style.cursor = 'pointer';

                document.body.appendChild(btnInstall);

                btnInstall.addEventListener('click', async () => {
                    btnInstall.remove();
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`Instala√ß√£o: ${outcome}`);
                    deferredPrompt = null;
                });
            });

        </script>

</body>

</html>